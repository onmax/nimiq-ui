/* TODO Remove font-size fluid and use dynamic line-height */
*:not(:where(.nq-raw, .nq-raw *)) {

  /* Base styles */
  body {
    background-color: rgb(var(--nq-neutral-100) / 1);

    --nq-max-width: 90rem;

    &:not(.nq-no-color):not([nq-no-color]):not(.nq-no-color *):not([nq-no-color] *) {
      color: rgb(var(--nq-neutral-800));
    }

    :not(:where(.nq-prose, [nq-prose])) {

      h1 {
        font-weight: 700;

        *:not(.nq-no-color):not([nq-no-color]):not(.nq-no-color *):not([nq-no-color] *) & {
          color: rgb(var(--nq-neutral));
        }

        max-width: 26ch;
        text-align: left;
        margin: 0;

        --nq-font-line-height: 1.2;
        --nq-font-size-min: 40;
        --nq-font-size-max: 48;

        &:where(.nq-heading-lg, [nq-heading-lg]) {
          --nq-font-size-min: 44;
          --nq-font-size-max: 64;
        }

        @media screen and (min-width: 768px) {
          text-align: center;
        }

        &+p {
          margin-top: 24px;
          font-weight: 600;

          max-width: 42ch;

          --nq-line-height: 1.5;
          --nq-font-size-min: 20;
          --nq-font-size-max: 22;

          @media screen and (min-width: 768px) {
            text-align: center;
          }
        }
      }


      h2 {
        font-weight: 700;

        *:not(.nq-no-color):not([nq-no-color]):not(.nq-no-color *):not([nq-no-color] *) & {
          color: rgb(var(--nq-neutral));
        }

        max-width: 33ch;
        margin: 0;

        --nq-font-size-min: 32;
        --nq-font-size-max: 40;
        --nq-line-height: 1.3;

        text-align: left;

        @media screen and (min-width: 768px) {
          text-align: center;
        }

        &+p {
          margin-top: 16px;
          font-weight: 600;
          color: rgb(var(--nq-neutral-800) / 0.85);

          max-width: 70ch;

          --nq-line-height: 1.5;
          --nq-font-size-min: 20;
          --nq-font-size-max: 22;

          @media screen and (min-width: 768px) {
            text-align: center;
          }
        }
      }

      h3 {
        font-weight: 600;
        --nq-line-height: 1.3;
        --nq-font-size-min: 22;
        --nq-font-size-max: 28;

        *:not(.nq-no-color):not([nq-no-color]):not(.nq-no-color *):not([nq-no-color] *) & {
          color: rgb(var(--nq-neutral));
        }

        &+p {
          margin-top: 16px;

          --nq-line-height: 1.5;
          --nq-font-size-min: 18;
          --nq-font-size-max: 20;
        }
      }

      h4 {
        font-weight: 600;
        --nq-line-height: 1.3;
        --nq-font-size-min: 20;
        --nq-font-size-max: 22;

        /* We change the color except if there is parent that change the color */
        *:not(.nq-no-color):not([nq-no-color]):not(.nq-no-color *):not([nq-no-color] *) & {
          color: rgb(var(--nq-neutral));
        }
      }
    }

    :where(h1, h2, h3, h4, h1+p, h2+p, h3+p, h4+p) {
      font-size: var(--nq-font-size);
      line-height: var(--nq-line-height);
    }

    section,
    [data-section] {
      display: flex;
      flex-direction: column;
      justify-content: center;

      @media screen and (min-width: 769px) {
        align-items: center;
      }

      margin-left: auto;
      margin-right: auto;

      --nq-max-width: 73rem;

      &:where(.nq-wide, [nq-wide]) {
        --nq-max-width: 90rem;
      }

      padding: var(--pt, 0) var(--px, 0) var(--pb, 0) var(--px, 0);

      >* {
        max-width: var(--nq-max-width);
      }

      &:where(.nq-no-max-width, [nq-no-max-width]),
      > :where(.nq-no-max-width, [nq-no-max-width]) {
        --nq-max-width: none;
      }

      &:where(.nq-no-mx, [nq-no-max]) {
        margin-left: 0;
        margin-right: 0;
      }

      &:not(:where(.nq-no-px, [nq-no-px])) {
        --px: 32px;

        @media screen and (min-width: 768px) {
          --px: 64px;
        }

        @media screen and (min-width: 1024px) {
          --px: 72px;
        }

        @media screen and (min-width: 1280px) {
          --px: 80px;
        }
      }

      &:not(:where(.nq-no-py, [nq-no-py])) {
        --pt: 160px;

        @media screen and (min-width: 1024px) {
          --pt: 200px;
        }

        :where(&.darkblue:has(+ :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])).darkblue),
          &.grey:has(+ :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])).grey),
          &.white:has(+ :where(section, [data-section]):not(:where(.nq-section-gap, [nq-section-gap])).white)) {
          --pb: 36px;

          @media screen and (min-width: 1024px) {
            --pb: 48px;
          }

          + :where(section, [data-section]) {
            --pt: 36px;

            @media screen and (min-width: 1024px) {
              --pt: 48px;
            }
          }
        }

        &.darkblue:has(+ :where(section, [data-section]):where(.grey, .white, .nq-section-gap, [nq-section-gap])),
        &:where(.white, .grey):has(+ :where(section, [data-section]).darkblue, .nq-section-gap, [nq-section-gap]),
        &.white:has(+ :where(section, [data-section]):where(.grey, .darkblue, .nq-section-gap, [nq-section-gap])),
        &:where(.darkblue, .grey):has(+ :where(section, [data-section]).white, .nq-section-gap, [nq-section-gap]),
        &.grey:has(+ :where(section, [data-section]):where(.darkblue, .white, .nq-section-gap, [nq-section-gap])),
        &:where(.white, .darkblue):has(+ :where(section, [data-section]).grey, .nq-section-gap, [nq-section-gap]) {
          --pb: 160px;

          @media screen and (min-width: 1024px) {
            --pb: 200px;
          }
        }
      }
    }
  }
}