.nq-subline {
  font-size: 1.375rem;
  line-height: 1.2;
  margin-top: 20px;

  @media (min-width: 769px) {
    font-size: 1.5rem;
    margin-top: 24px;
  }
}

.nq-label {
  text-transform: uppercase;
  letter-spacing: 0.17em;
  font-weight: 700;
  line-height: 1.2;
  color: rgb(var(--nq-neutral-700));
}

.nq-arrow,
.nq-loading {
  &::after {
    content: '';
    position: relative;
    display: inline-block;
    -webkit-mask: var(--nq-icon) no-repeat;
    mask: var(--nq-icon) no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    background-color: currentColor;
    color: inherit;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: inherit;
    margin-left: 0.4em;
    transition: transform 100ms ease-out;
    width: 0.7em;
    height: 0.7em;
    --nq-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTIgMTIiPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQuNjY2IDEwIDEgNmwzLjY2Ny00TTIuNjE5IDZIMTEiLz48L3N2Zz4=");
  }
}


.nq-arrow {

  /* We select the arrow OR the closest parent with href to an http */
  a[href^="http"] &::after,
  &[href^="http"]::after {
    margin-bottom: 1px;
    rotate: 0.375turn;
  }

  /* We select the arrow OR the closest parent with href starting with local href */
  a:is(:not([href^="http"])) &::after,
  &:is(:not([href^="http"]))::after {
    margin-bottom: 1px;
    rotate: 0.5turn;
  }

  &:hover::after {
    transform: translateX(-.25em);
  }

  a:hover &::after {
    transform: translateX(-.25em);
  }
}

.nq-arrow-back {
  &::before {
    content: '';
    position: relative;
    display: inline-block;
    -webkit-mask: var(--nq-icon) no-repeat;
    mask: var(--nq-icon) no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    background-color: currentColor;
    color: inherit;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: inherit;
    transition: transform 100ms ease-out;
    width: 0.7em;
    height: 0.7em;
    --nq-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTIgMTIiPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTQuNjY2IDEwIDEgNmwzLjY2Ny00TTIuNjE5IDZIMTEiLz48L3N2Zz4=");
    margin-right: 0.4em;
    margin-bottom: 1px;
  }

  &:hover::before {
    transform: translateX(-.25em);
  }

  a:hover &::before {
    transform: translateX(-.25em);
  }
}

.nq-loading,
.nq-not-loading {
  &::after {
    margin-right: -0.4em;
    transition: width 0.2s ease-out;
    width: 1em;
    aspect-ratio: 1/1;
    --nq-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTIgMTIiPjxnIGZpbGw9Im5vbmUiPjxnIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS13aWR0aD0iMS42NjciIGNsaXAtcGF0aD0idXJsKCNuaW1pcS1zcGlubmVyLXVqeGl1c3hoaXhhcnAxb2Q4YmVreCkiPjxwYXRoIGQ9Ik02IDFDOC43NjI1IDEgMTEgMy4yMzc1IDExIDYiLz48cGF0aCBkPSJNMy4wMzgwOSAyQzEuODA0MDIgMi45MDM3NCAxIDQuMzYyMTkgMSA2LjAxMzg1QzEgOC43Njg3IDMuMjMxMyAxMSA1Ljk4NjE1IDExQzcuNjM3ODEgMTEgOS4wOTYyNiAxMC4xOTYgMTAgOC45NjE5MSIgb3BhY2l0eT0iLjMiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJuaW1pcS1zcGlubmVyLXVqeGl1c3hoaXhhcnAxb2Q4YmVreCI+PHJlY3Qgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIi8+PC9jbGlwUGF0aD48L2RlZnM+PC9nPjxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgZHVyPSIxcyIgZnJvbT0iMCAwIDAiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiB0bz0iMzYwIDAgMCIgdHlwZT0icm90YXRlIi8+PC9zdmc+");
    transform: scale(1);
    content: '';
    position: relative;
    display: inline-block;
    -webkit-mask: var(--nq-icon) no-repeat;
    mask: var(--nq-icon) no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    background-color: currentColor;
    color: inherit;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: inherit;
    margin-left: 0.4em;
  }

  &:is(.not-loading, [not-loading])::after {
    width: 0;
  }
}

.nq-pill,
.nq-pill-lg,
.nq-pill-xl,
.nq-pill-blue,
.nq-pill-gold,
.nq-pill-green,
.nq-pill-orange,
.nq-pill-red,
.nq-pill-secondary,
.nq-pill-tertiary {
  position: relative;
  font-weight: bold;
  font-size: 0.875rem;
  padding: 0.1875rem 0.8125rem;
  border: none;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.125rem;
  line-height: 1.5;
  height: max-content;
  width: max-content;
  text-decoration: none;
  color: white;
  outline: none;
  transition: background-color 300ms var(--nq-ease);
  will-change: color, background-color;

  &:is(.nq-pill-lg, [nq-pill-lg]) {
    font-size: 1rem;
    padding: 0.3125rem 1rem;
  }

  &:is(.nq-pill-xl, [nq-pill-xl]) {
    box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.15);
    cursor: pointer;
    transition: transform 450ms var(--nq-ease), box-shadow 450ms var(--nq-ease);
    will-change: box-shadow;
    text-transform: uppercase;
    letter-spacing: 0.094em;
    min-width: 12.5rem;
    flex: 1;
    padding: 1.25rem 2rem;
    line-height: 1.25rem;
    font-size: 1rem;
    gap: 0.5rem;
    border-radius: 9999px;
    margin: 1rem;

    &:is(:hover, :focus) {
      box-shadow: 0 1rem 2.5rem rgba(0, 0, 0, 0.2);
      transform: translate3D(0, -2px, 0);
    }
  }

  &:active {
    outline: none;
    box-shadow: 0 .2rem .3rem rgba(0, 0, 0, 0.2);
    transform: translate3D(0, 1px, 0);
    transition: transform 200ms cubic-bezier(.41, .34, .26, 1.55), box-shadow 200ms cubic-bezier(.41, .34, .26, 1.55) !important;
  }

  &:is([disabled]) {
    pointer-events: none;
    cursor: not-allowed;
    opacity: 0.5;
  }

  &:not([disabled]) {
    &::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 9999px;
      opacity: 0;
      transition: opacity 300ms var(--nq-ease);
      z-index: -1;
    }

    &:is(:hover, :active, :focus)::before {
      opacity: 1;
    }
  }

  &:focus-visible {
    outline: 2px solid rgba(var(--nq-blue));
    outline-offset: 3px;
  }
}

.nq-pill-blue {
  background: rgb(var(--nq-blue));
  background-image: var(--nq-blue-gradient);

  &::before {
    background-image: var(--nq-blue-gradient-darkened);
  }
}

.nq-pill-green {
  background: rgb(var(--nq-green));
  background-image: var(--nq-green-gradient);

  &::before {
    background-image: var(--nq-green-gradient-darkened);
  }
}

.nq-pill-red {
  background: rgb(var(--nq-red));
  background-image: var(--nq-red-gradient);

  &::before {
    background-image: var(--nq-red-gradient-darkened);
  }
}

.nq-pill-gold {
  background: rgb(var(--nq-gold));
  background-image: var(--nq-gold-gradient);

  &::before {
    background-image: var(--nq-gold-gradient-darkened);
  }
}

.nq-pill-orange {
  background: rgb(var(--nq-orange));
  background-image: var(--nq-orange-gradient);

  &::before {
    background-image: var(--nq-orange-gradient-darkened);
  }
}

.nq-pill-secondary {
  background: rgb(var(--nq-neutral-400));
  color: rgb(var(--nq-neutral));

  &:hover {
    background: rgb(var(--nq-neutral-500));
  }
}

.nq-pill-tertiary {
  box-shadow: 0 0 0 1.5px rgb(var(--nq-neutral-600));
  color: rgb(var(--nq-neutral));
  background: rgb(var(--nq-neutral-0));

  &:hover {
    background: rgb(var(--nq-neutral-50));

    .dark & {
      background: rgb(var(--nq-neutral-200));
    }
  }
}

:is([class*="ring"], [ring]),
.nq-border-base {
  --border-color: rgb(var(--nq-neutral-400));
  --atomic-css-framework: var(var(--un-ring-color), var(--tw-ring-color));
  box-shadow: 0 0 0 1.5px var(--atomic-css-framework, var(--border-color));
}

.nq-border-top {
  --border-color: rgb(var(--nq-neutral-400));
  box-shadow: 0 -1.5px 0 0 var(--border-color);
}

.nq-border-bottom {
  --border-color: rgb(var(--nq-neutral-400));
  box-shadow: 0 1.5px 0 0 var(--border-color);
}

.nq-border-left {
  --border-color: rgb(var(--nq-neutral-400));
  box-shadow: -1.5px 0 0 0 var(--border-color);
}

.nq-border-right {
  --border-color: rgb(var(--nq-neutral-400));
  box-shadow: 1.5px 0 0 0 var(--border-color);
}

.nq-ghost-btn {
  margin-right: 1px;
  margin-bottom: 1px;
  padding: 6px 8px;
  border-radius: 6px;
  font-size: 12px;
  line-height: 1;
  font-weight: 600;
  color: rgb(var(--nq-neutral-700));
  background: inherit;
  transition: 100ms background var(--nq-ease, ease-out);
  --ring-color: rgb(var(--nq-neutral-400));
  box-shadow: 0 0 0 1.5px var(--ring-color);
  height: max-content;
  width: max-content;

  &:hover {
    background: rgb(var(--nq-neutral-100));
  }

  &:focus-visible {
    outline: 2px solid rgba(var(--nq-blue));
    outline-offset: 3px;
  }
}

.nq-close-btn {
  width: 1em;
  height: 1em;
  background-color: rgb(var(--nq-neutral-500));
  border-radius: 1em;
  transition: 100ms background var(--nq-ease, ease-out);
  position: relative;


  &::after {
    content: '';
    --cross-icon: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxZW0iIGhlaWdodD0iMWVtIiB2aWV3Qm94PSIwIDAgMTIgMTIiPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0ibTEgMSAxMCAxMG0wLTEwTDEgMTEiLz48L3N2Zz4=");
    -webkit-mask: var(--cross-icon) no-repeat;
    mask: var(--cross-icon) no-repeat;
    -webkit-mask-size: 100% 100%;
    mask-size: 100% 100%;
    background-color: currentColor;
    color: rgb(var(--nq-neutral-0));
    width: 0.42em;
    height: 0.42em;
    margin: auto;
    display: block;
    position: absolute;
    inset: 0;
    right: -1px;
  }


  &:is(:hover, :focus) {
    background-color: rgb(var(--nq-neutral-600));
  }

  &:focus-visible {
    outline: 2px solid rgba(var(--nq-blue));
    outline-offset: 3px;
  }
}

.nq-switch {
  &:is(input[type="checkbox"]) {
    --active-color: rgb(var(--nq-neutral-300));
    appearance: none;
    font-size: 1em;
    width: 2em;
    height: max-content;
    aspect-ratio: 1.625;
    border-radius: 2em;
    background: var(--active-color);
    position: relative;
    cursor: pointer;

    &::before {
      content: "";
      position: absolute;
      transform: translate(-50%, -50%);
      top: 50%;
      left: 0.6em;
      width: 0.9em;
      height: 0.9em;
      border: 1px solid rgb(var(--nq-neutral) / 0.02);
      border-radius: 50%;
      background: #ffffff;
      transition: left 100ms ease-out;
      box-shadow: var(--nq-shadow);
    }

    &:checked {
      --active-color: rgb(var(--nq-blue));

      &::before {
        left: 1.4em;
      }
    }

    @media (prefers-reduced-motion) {
      transition-duration: 0s;

      &::before {
        transition-duration: 0s;
      }
    }

    &[disabled] {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }
}

.nq-flex-card {
  position: relative;
  border-radius: 6px;
  overflow: hidden;
  background: rgb(var(--nq-neutral-200));
  display: flex;
  flex-direction: column;
  padding: 12px;
  box-shadow: 0 0 0 1.5px rgb(var(--nq-neutral/2));
  transition: background 0.2s var(--nq-ease), transform 0.2s ease-out, box-shadow 0.2s ease-out, color 0.2s ease-out;
  color: rgb(var(--nq-neutral));

  &:is(a):hover,
  &:is(a):focus-visible {
    background: white;
    transform: translateY(-6px);
    box-shadow: var(--nq-shadow);

    &,
    * {
      color: rgb(var(--nq-darkblue));
    }
  }

  @media (min-width: 768px) {
    padding: 24px;
  }
}

.nq-curtain-y {
  overflow: auto;
  position: sticky; /* You need to set top-0 or bottom-0! */
  --mask-size: 2rem;
  transition: mask-size 0.25s linear(0 0%, 0.0027 3.64%, 0.0106 7.29%,
      0.0425 14.58%, 0.0957 21.87%,
      0.1701 29.16%, 0.2477 35.19%,
      0.3401 41.23%, 0.5982 55.18%,
      0.7044 61.56%, 0.7987 68.28%, 0.875 75%,
      0.9297 81.25%, 0.9687 87.5%,
      0.9922 93.75%, 1 100%);
  scroll-timeline: --scroller;
  --curtain-color: var(--nq-neutral);
  mask: linear-gradient(var(--curtain-color), transparent) 0 0 / 100% 0 no-repeat,
    linear-gradient(var(--curtain-color), var(--curtain-color)) 0 50% / 100% 100% no-repeat,
    linear-gradient(transparent, var(--curtain-color)) 0 100% / 100% var(--mask-size) no-repeat;
  mask-composite: exclude;
  mask-repeat: none;
  animation: mask-up both linear, mask-down both linear;
  animation-timeline: scroll(self);
  animation-range: 0 2rem, 2rem 100%;
}

@keyframes mask-up {
  100% {
    mask-size: 100% var(--mask-size), 100% 100%, 100% var(--mask-size);
  }
}

@keyframes mask-down {
  100% {
    mask-size: 100% var(--mask-size), 100% 100%, 100% 0;
  }
}

.nq-shadow {
  box-shadow: var(--nq-shadow);
}

.nq-shadow-lg {
  box-shadow: var(--nq-shadow-lg);
}

.nq-notice {
  font-weight: 600;
  font-size: 1rem;
}

.nq-card {
  max-width: 37.5rem;
  background: var(--nq-neutral-0);
  color: var(--nq-neutral);
  border-radius: 0.625rem;
  box-shadow: 0 0.25rem 1.75rem rgba(0, 0, 0, 0.111158);
  margin: 1rem 0.5rem;

  @media screen and (min-width: 450px) {
    margin: 1rem;
  }

  header {
    padding: 1.5rem;
    text-align: center;

    @media screen and (min-width: 450px) {
      padding: 2rem;
    }

    h1,
    h2 {
      margin: 0;
    }

    .nq-notice {
      margin: 1.5rem 0 0;
    }
  }

  section {
    padding: 1.5rem;

    @media screen and (min-width: 450px) {
      padding: 2rem;
    }

    header+& {
      padding-top: 0.5rem;
    }

    >*:first-child {
      margin-top: 0;
    }

    >*:last-child {
      margin-bottom: 0;
    }
  }

  footer {
    padding: 0.5rem;

    section+& {
      padding-top: 0;
    }
  }
}

.nq-input-box {
  font-size: 16px;
  line-height: 1.5;
  padding: 4.5px 14px;
  height: max-content;
  min-width: 128px;

  border-radius: 2px;
  width: 100%;
  background-color: transparent;
  transition: colors 0.2s var(--nq-ease),
    box-shadow 0.1s var(--nq-ease);
  outline: 0;

  --ring-color: rgba(var(--nq-neutral-500));
  --color: rgb(var(--nq-neutral));
  --placeholder-color: rgb(var(--nq-neutral-700));

  box-shadow: 0 0 0 1.5px var(--ring-color);
  color: var(--color);

  &::placeholder {
    color: var(--placeholder-color);
  }

  &:not(.nq-invalid, :user-invalid):is(:hover, :focus, :focus-within) {
    --color: rgb(var(--nq-blue));
    --ring-color: rgba(var(--nq-blue) / 0.3);

    &::placeholder {
      --placeholder-color: rgb(var(--nq-blue) / 0.6);
    }

    &:focus:valid,
    &:focus-within:valid {
      --ring-color: rgba(var(--nq-blue));
    }
  }

  &:is(.nq-invalid, :user-invalid) {
    --color: rgb(var(--nq-orange));
    --ring-color: rgba(var(--nq-orange) / 0.4);

    &::placeholder {
      --placeholder-color: rgb(var(--nq-orange) / 0.7);
    }

    &:hover,
    &:focus,
    &:focus-within {
      --ring-color: rgba(var(--nq-orange));
    }
  }

  &:is(:hover, :focus-visible, :focus-within) {
    outline: 1.5px solid rgba(var(--ring-color));
  }

  &:is(textarea, :has(textarea)) {
    --padding: 4px;
    min-height: calc(3lh + 2 * var(--padding));
    max-height: calc(5lh + 2 * var(--padding));
    field-sizing: content;
    padding: var(--padding) calc(var(--padding) + ((1lh - 1ex) / 2));
  }
}

.focusable {
  outline-color: rgb(var(--nq-blue));

  &:focus-visible {
    outline: 2px solid;
    outline-offset: 3px;
  }
}

.scroll-sm::-webkit-scrollbar {
  width: 0.3rem;
  height: 0.3rem;

  @media screen and (min-width: 769px) {
    width: 0.6rem;
    height: 0.7rem;
  }
}